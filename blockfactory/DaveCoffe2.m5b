{
    "blocks": [
        "__DaveCoffe_InitPump",
        "__DaveCoffe_Pour"
    ],
    "category": "DaveCoffe",
    "color": "#b14420",
    "jscode": "var __DaveCoffe_InitPump_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"InitPump\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"ml\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"ml\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Perms\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"Perms\"\n        }\n    ],\n    \"message3\": \"%1 %2\",\n    \"args3\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"PumpId\"\n        },\n        {\n            \"type\": \"field_input\",\n            \"text\": \"\",\n            \"spellcheck\": false,\n            \"name\": \"PumpId\"\n        }\n    ],\n    \"message4\": \"%1 %2\",\n    \"args4\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"pin\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"pin\"\n        }\n    ],\n    \"colour\": \"#b14420\"\n};\n\nwindow['Blockly'].Blocks['__DaveCoffe_InitPump'] = {\n    init: function() {\n        this.jsonInit(__DaveCoffe_InitPump_json);\n    }\n};\n\nwindow['Blockly'].Python['__DaveCoffe_InitPump'] = function(block) {\n    var ml = block.getFieldValue('ml');\nvar Perms = block.getFieldValue('Perms');\nvar PumpId = block.getFieldValue('PumpId');\nvar pin = block.getFieldValue('pin');\n    return `${PumpId}_rate = ${Perms} / ${ml}\n${PumpId} = machine.Pin(${pin}, mode=machine.Pin.OUT, pull=machine.Pin.PULL_UP)\n${PumpId}.off()` + \"\\n\";\n};\n\n// Block __DaveCoffe_Pour\nvar __DaveCoffe_Pour_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Pour\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"ml\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"ml\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"pumpName\"\n        },\n        {\n            \"type\": \"field_input\",\n            \"text\": \"\",\n            \"spellcheck\": false,\n            \"name\": \"pumpName\"\n        }\n    ],\n    \"colour\": \"#b14420\"\n};\n\nwindow['Blockly'].Blocks['__DaveCoffe_Pour'] = {\n    init: function() {\n        this.jsonInit(__DaveCoffe_Pour_json);\n    }\n};\n\nwindow['Blockly'].Python['__DaveCoffe_Pour'] = function(block) {\n    var ml = block.getFieldValue('ml');\nvar pumpName = block.getFieldValue('pumpName');\n    return `${pumpName}.on()\nwait_ms(${pumpName}_rate * ${ml})\n${pumpName}.off()` + \"\\n\";\n};\n\n"
}